<!DOCTYPE html>
<html>
<head>
<title>Chicken Takeover</title>

<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #fffacd;
  overflow: hidden;
  text-align: center;

  /* MOBILE STABILITY FIX */
  height: 100dvh;
  position: fixed;
  width: 100%;
}

/* UI banner */
.ui {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background: gold;
  padding: 15px;
  z-index: 9999;
  box-shadow: 0 2px 8px rgba(0,0,0,0.2);

  /* smooth mobile rendering */
  transform: translateZ(0);
  will-change: transform;
}

button {
  margin-top: 8px;
  padding: 10px 18px;
  font-size: 16px;
  border: none;
  border-radius: 10px;
  cursor: pointer;
}

.chicken {
  position: absolute;
  font-size: 40px;
  transition: left 3s linear, top 3s linear;
}

/* Gold chicken */
.gold {
  filter: drop-shadow(0 0 12px gold);
  animation: glow 1.2s infinite alternate;
  font-size: 50px;
  cursor: pointer;
}

@keyframes glow {
  from { filter: drop-shadow(0 0 6px gold); }
  to { filter: drop-shadow(0 0 18px gold); }
}

/* Rainbow chicken */
.rainbow {
  font-size: 55px;
  cursor: pointer;
  animation: rainbowGlow 1s linear infinite;
}

@keyframes rainbowGlow {
  0% { filter: hue-rotate(0deg) drop-shadow(0 0 10px white); }
  100% { filter: hue-rotate(360deg) drop-shadow(0 0 20px white); }
}

/* Egg explosion intro */
.explosion-egg {
  position: fixed;
  left: 50%;
  top: 55%;
  transform: translate(-50%, -50%);
  font-size: 80px;
}
</style>
</head>

<body>

<div class="ui">
  <h2>üêî APRIL FOOLS üòÇ</h2>
  <p>The real QR codes are still out there!</p>
  <button onclick="location.href='index.html'">
    Return to Hunt
  </button>
</div>

<script>
const MAX_CHICKENS = 80;

let chickens = [];
let goldExists = false;
let rainbowExists = false;

/* Egg intro explosion */
function eggExplosion() {
  let egg = document.createElement("div");
  egg.className = "explosion-egg";
  egg.innerHTML = "ü•ö";
  document.body.appendChild(egg);

  egg.animate([
    { transform: "translate(-50%,-50%) scale(1)" },
    { transform: "translate(-50%,-50%) scale(1.4)" },
    { transform: "translate(-50%,-50%) scale(0)" }
  ], { duration: 600 });

  setTimeout(() => {
    egg.remove();

    for (let i = 0; i < 15; i++) spawnChicken();
    spawnLoop();
  }, 600);
}

/* Spawn chicken from egg */
function spawnChicken() {

  if (chickens.length >= MAX_CHICKENS) {
    chickens.shift().remove();
  }

  let egg = document.createElement("div");
  egg.className = "chicken";
  egg.innerHTML = "ü•ö";

  placeRandom(egg);
  document.body.appendChild(egg);

  setTimeout(() => {

    let rarity = "normal";

    if (!rainbowExists && Math.random() < 0.0005) {
      rarity = "rainbow";
      rainbowExists = true;
    }
    else if (!goldExists && Math.random() < 0.005) {
      rarity = "gold";
      goldExists = true;
    }

    egg.innerHTML = "üêî";

    if (rarity === "gold") {
      egg.classList.add("gold");
      egg.onclick = () => eliteChickenClick(egg, "gold");
    }

    if (rarity === "rainbow") {
      egg.classList.add("rainbow");
      egg.onclick = () => eliteChickenClick(egg, "rainbow");
    }

    chickens.push(egg);
    wander(egg);

  }, 400);
}

/* Random safe placement (avoids UI bar) */
function placeRandom(el) {
  let x = Math.random() * window.innerWidth;
  let y = 100 + Math.random() * (window.innerHeight - 140);

  el.style.left = x + "px";
  el.style.top = y + "px";
}

/* Wandering movement (mobile-safe) */
function wander(c) {
  setInterval(() => placeRandom(c), 3000);
}

/* Spawn loop */
function spawnLoop() {
  setInterval(spawnChicken, 600);
}

/* Elite chicken click */
function eliteChickenClick(chicken, type) {

  sparkleBurst(chicken);

  if (type === "rainbow") {
    alert("üåà LEGENDARY SECRET EGG FOUND! You are beyond elite!");
    rainbowExists = false;
  } else {
    alert("ü•ö Secret Egg Found! You are elite!");
    goldExists = false;
  }

  setTimeout(() => chicken.remove(), 200);
}

/* Sparkle burst */
function sparkleBurst(origin) {

  let rect = origin.getBoundingClientRect();
  let cx = rect.left + rect.width / 2;
  let cy = rect.top + rect.height / 2;

  for (let i = 0; i < 20; i++) {

    let s = document.createElement("div");
    s.style.position = "fixed";
    s.style.left = cx + "px";
    s.style.top = cy + "px";
    s.style.width = "6px";
    s.style.height = "6px";
    s.style.background = "gold";
    s.style.borderRadius = "50%";
    s.style.zIndex = "9999";

    let angle = Math.random() * Math.PI * 2;
    let dist = 80 + Math.random() * 40;

    s.animate([
      { transform: "translate(0,0)", opacity: 1 },
      {
        transform: `translate(${Math.cos(angle)*dist}px,${Math.sin(angle)*dist}px)`,
        opacity: 0
      }
    ], { duration: 600 });

    document.body.appendChild(s);
    setTimeout(() => s.remove(), 600);
  }
}

/* Start */
eggExplosion();
</script>

</body>
</html>
